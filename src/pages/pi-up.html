<!DOCTYPE html>
<html lang="en">
<head>
    <title>Pi Cluster Status</title>
</head>
<body>
<h1>Cluster Status</h1>
<pre id="status"></pre>

<script>
    var ws = new WebSocket('ws://sockety:8001/');
    ws.onmessage = function (event) {
        data = event.data;
        switch (data) {
            case('*begin*'):
                status = '';
                break;
            case('*end*'):
                document.getElementById('status').textContent = status;
                break;
            default:
                status += '\n' + data;
        }
    };
</script>

</body>
</html>